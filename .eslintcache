[{"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/index.js":"1","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/reportWebVitals.js":"2","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/App.js":"3","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/components/Header.js":"4","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Profile.js":"5","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Home.js":"6","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignUp.js":"7","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignIn.js":"8","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/index.js":"9","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/App.js":"10","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/reportWebVitals.js":"11","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Profile.js":"12","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignIn.js":"13","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/components/Header.js":"14","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Home.js":"15","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignUp.js":"16","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/context/AuthContext.js":"17"},{"size":589,"mtime":1610984281366,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":1610982739701,"results":"20","hashOfConfig":"19"},{"size":754,"mtime":1610984745768,"results":"21","hashOfConfig":"19"},{"size":497,"mtime":1610984889529,"results":"22","hashOfConfig":"19"},{"size":565,"mtime":1610984232858,"results":"23","hashOfConfig":"19"},{"size":531,"mtime":1610984495984,"results":"24","hashOfConfig":"19"},{"size":1541,"mtime":1610986044522,"results":"25","hashOfConfig":"19"},{"size":1246,"mtime":1610985428766,"results":"26","hashOfConfig":"19"},{"size":709,"mtime":1611073015503,"results":"27","hashOfConfig":"28"},{"size":754,"mtime":1611062653907,"results":"29","hashOfConfig":"28"},{"size":362,"mtime":1610982739701,"results":"30","hashOfConfig":"28"},{"size":565,"mtime":1611061463983,"results":"31","hashOfConfig":"28"},{"size":2457,"mtime":1611073032681,"results":"32","hashOfConfig":"28"},{"size":497,"mtime":1611080499302,"results":"33","hashOfConfig":"28"},{"size":863,"mtime":1611073015504,"results":"34","hashOfConfig":"28"},{"size":3470,"mtime":1611081560647,"results":"35","hashOfConfig":"28"},{"size":2209,"mtime":1611077351368,"results":"36","hashOfConfig":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"9nujie",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},"wdkioc",{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"55"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"55"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"55"},"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/index.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/reportWebVitals.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/App.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/components/Header.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Profile.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Home.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignUp.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignIn.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/index.js",[],["75","76"],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/App.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/reportWebVitals.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Profile.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignIn.js",["77"],"import React, { useState, useContext, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext, useAuthState } from '../context/AuthContext';\n\nfunction SignIn() {\n  // context-functies\n  const { login } = useContext(AuthContext);\n  const { isAuthenticated } = useAuthState();\n\n  // state voor invoervelden (omdat het formulier met Controlled Components werkt!)\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  // react-router dingen\n  const history = useHistory();\n\n  // Deze functie wordt elke keer afgevuurd als isAuthenticated (uit context) veranderd\n  useEffect(() => {\n    // als hij de waarde true heeft, DAN sturen we de gebruiker door!\n    if (isAuthenticated === true) {\n      history.push('/profile');\n    }\n  }, [isAuthenticated]);\n\n  async function onSubmit(event) {\n    // deze hoeft alleen als je controlled components gebruikt\n    event.preventDefault();\n\n    try {\n      const response = await axios.post('https://polar-lake-14365.herokuapp.com/api/auth/signin', {\n        username: username,\n        password: password,\n      })\n\n      // We roepen hier de context-functie \"login\" aan. De context gaat dan met de data die we hebben\n      // teruggekregen alles op de juiste manier in localstorage en state zetten!\n      login(response.data);\n    } catch(e) {\n      // Gaat het mis? Log het in de console!\n      console.error(e);\n    }\n  }\n\n  return (\n    <>\n      <h1>Inloggen</h1>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab alias cum debitis dolor dolore fuga id molestias qui quo unde?</p>\n\n      <form onSubmit={onSubmit}>\n        <label htmlFor=\"username-field\">\n          Gebruikersnaam:\n          <input\n            type=\"text\"\n            id=\"username-field\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"password-field\">\n          Wachtwoord:\n          <input\n            type=\"password\"\n            id=\"password-field\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)} />\n        </label>\n        <button\n          type=\"submit\"\n          className=\"form-button\"\n        >\n          Inloggen\n        </button>\n      </form>\n      <p>Heb je nog geen account? <Link to=\"/signup\">Registreer</Link> je dan eerst.</p>\n    </>\n  );\n}\n\nexport default SignIn;","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/components/Header.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Home.js",["78","79"],"import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext, useAuthState } from '../context/AuthContext';\n\nfunction Home() {\n  const { isAuthenticated } = useAuthState();\n  console.log(isAuthenticated);\n\n  // const authState = useContext(AuthContext);\n  // const isAuthenticated = authState.user !== null && authState.status === 'done';\n  // console.log(isAuthenticated);\n\n  return (\n    <>\n      <h1>Homepagina</h1>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab alias cum debitis dolor dolore fuga id molestias qui quo unde?</p>\n      <p>Als je ingelogd bent, bekijk dan de <Link to=\"/profile\">Profielpagina</Link></p>\n      <p>Je kunt ook <Link to=\"/signin\">inloggen</Link> of jezelf <Link to=\"/signup\">registeren</Link> als je nog geen account hebt.</p>\n    </>\n  );\n}\n\nexport default Home;","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignUp.js",["80"],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/context/AuthContext.js",["81"],"import React, { createContext, useContext, useEffect, useState } from 'react';\n\nconst AuthContext = createContext({});\n\nfunction AuthContextProvider({ children }) {\n  const [authState, setAuthState] = useState({\n    status: 'pending',\n    error: null,\n    user: null,\n  })\n\n  useEffect(() => {\n    // haal uit de local storage de JWT Token\n    // Als die er niet is, kunnen we gewoon verder\n    // Als die token er wel is, dan betekend dat dat de applicatie herstart is\n    // En dan willen we nog even onze gebruikersdata (username, etc.) ophalen.\n\n    setTimeout(() => {\n      // er is geen token, dus we beginnen met een schone lei!\n      setAuthState({\n        ...authState,\n        status: 'done',\n      })\n    }, 2000)\n  }, []);\n\n  function login(data) {\n    // 1. de token willen we in de local storage zetten\n    localStorage.setItem('token', data.accessToken);\n\n    // 2. de user-informatie willen we in de context zetten\n    setAuthState({\n      ...authState,\n      user: {\n        username: data.username,\n        email: data.email,\n        roles: data.roles,\n      }\n    })\n\n    // 3. als dat allemaal gelukt is, willen we doorgelinkt worden naar de profielpagina!\n    // Dit doen we in het component dat deze functie aanroept, zelf!\n  }\n\n  function logout() {\n    // doe dingen\n  }\n\n  // als je hem helemaal uit zou schrijven en als variabele mee zou geven aan AuthContext.Provider:\n  // const providerData = {\n  //   ...authState,\n  //   login: login,\n  //   logout: logout,\n  // };\n\n  return (\n    <AuthContext.Provider value={{ ...authState, login, logout }}>\n      {authState.status === 'done' && children}\n      {authState.status === 'pending' && <p>Loading...</p>}\n    </AuthContext.Provider>\n  );\n}\n\nfunction useAuthState() {\n  const authState = useContext(AuthContext);\n\n  // iemand is geauthoriseerd wanneer de status === 'done'\n  // en als er een gebruiker in de authState staat\n  const isDone = authState.status === 'done';\n  const isAuthenticated = authState.user !== null && isDone;\n\n  // console.log('Ik ben authenticated:', isAuthenticated);\n\n  return {\n    ...authState,\n    isAuthenticated: isAuthenticated,\n  }\n}\n\nexport {\n  AuthContext,\n  useAuthState,\n  AuthContextProvider,\n}",{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":24,"column":6,"nodeType":"88","endLine":24,"endColumn":23,"suggestions":"89"},{"ruleId":"90","severity":1,"message":"91","line":1,"column":17,"nodeType":"92","messageId":"93","endLine":1,"endColumn":27},{"ruleId":"90","severity":1,"message":"94","line":3,"column":10,"nodeType":"92","messageId":"93","endLine":3,"endColumn":21},{"ruleId":"90","severity":1,"message":"95","line":15,"column":10,"nodeType":"92","messageId":"93","endLine":15,"endColumn":15},{"ruleId":"86","severity":1,"message":"96","line":25,"column":6,"nodeType":"88","endLine":25,"endColumn":8,"suggestions":"97"},"no-native-reassign",["98"],"no-negated-in-lhs",["99"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["100"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'AuthContext' is defined but never used.","'error' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.",["101"],"no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},{"desc":"104","fix":"105"},"Update the dependencies array to be: [history, isAuthenticated]",{"range":"106","text":"107"},"Update the dependencies array to be: [authState]",{"range":"108","text":"109"},[843,860],"[history, isAuthenticated]",[730,732],"[authState]"]